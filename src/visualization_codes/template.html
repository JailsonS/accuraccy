<html>
  <head>
    <meta charset="utf-8">
        <script type="application/html-dependencies">json2[2014.02.04];jquery[1.12.4];shiny[1.0.5];font-awesome[4.7.0];selectize[0.11.2];htmlwidgets[0.9];proj4js[2.3.15];highcharts[5.0.6];fontawesome[4.5.0];htmlwdgtgrid[1];highchart-binding[0.5.0];bootstrap[3.3.7];AdminLTE[2.0.6];shinydashboard[0.6.1]</script>
    <script src="assets/json2-min.js"></script>
    <script src="assets/jquery.min.js"></script>
    <link href="assets/shiny.css" rel="stylesheet">
    <script src="assets/shiny.min.js"></script>
    <link href="assets/font-awesome.min.css" rel="stylesheet">
    <link href="assets/selectize.bootstrap3.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="assets/selectize/js/es5-shim.min.js"></script>
    <![endif]-->
    <script src="assets/selectize.min.js"></script>
    <script src="assets/htmlwidgets.js"></script>
    <script src="assets/proj4.js"></script>
    <link href="assets/motion.css" rel="stylesheet">
    <script src="assets/highstock.js"></script>
    <script src="assets/highcharts-3d.js"></script>
    <script src="assets/highcharts-more.js"></script>
    <script src="assets/annotations.js"></script>
    <script src="assets/broken-axis.js"></script>
    <script src="assets/data.js"></script>
    <script src="assets/drilldown.js"></script>
    <script src="assets/exporting.js"></script>
    <script src="assets/funnel.js"></script>
    <script src="assets/heatmap.js"></script>
    <script src="assets/map.js"></script>
    <script src="assets/no-data-to-display.js"></script>
    <script src="assets/offline-exporting.js"></script>
    <script src="assets/solid-gauge.js"></script>
    <script src="assets/treemap.js"></script>
    <script src="assets/annotations.js"></script>
    <script src="assets/draggable-legend.js"></script>
    <script src="assets/draggable-points.js"></script>
    <script src="assets/export-csv.js"></script>
    <script src="assets/grouped-categories.js"></script>
    <script src="assets/motion.js"></script>
    <script src="assets/pattern-fill-v2.js"></script>
    <script src="assets/tooltip-delay.js"></script>
    <script src="assets/reset.js"></script>
    <script src="assets/symbols-extra.js"></script>
    <script src="assets/text-symbols.js"></script>
    <link href="assets/font-awesome.min.css" rel="stylesheet">
    <link href="assets/htmlwdgtgrid.css" rel="stylesheet">
    <script src="assets/highchart.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapBiomas</title>
    <link rel="stylesheet" href="assets/application.css">
  </head>

  <body>
    <article class="page">
      <div class="page__container">
        <p>Selecione o nível e o bioma nas caixas abaixo para visualização dos resultados estatísticos de acurácia da coleção 5.0</p>
        <div class="stats__filter-box">
          <div class="stats__filter">
            <label class="stats__label" for="bioma">Bioma</label>
            <select id="bioma">
              <option value="Global">Global</option>
              <option value="Amazonia">Amazônia</option>
              <option value="Mata Atlantica">Mata Atlântica</option>
              <option value="Cerrado">Cerrado</option>
              <option value="Caatinga">Caatinga</option>
              <option value="Pantanal">Pantanal</option>
              <option value="Pampa">Pampa</option>
            </select>
          </div>
          <div class="stats__filter">
            <label class="stats__label" for="bioma">Nível</label>
            <select name="Nível" id="nivel">
              <option value="lv1">Nível 1</option>
              <option value="lv2">Nível 2</option>
              <option value="lv3">Nível 3</option>
            </select>
          </div>
          <div class="stats__filter-button">
            <button id = "dataButton" type="button" class="primary action-button">Buscar</button>
          </div>
        </div>

        <div class="stats__value">
          <div class="stats__value-item">
            <span class="stats__value-item--label">
              Acurácia Geral
            </span>
            <span id = accvb class="shiny-text-output stats__value-item--porcent"></span>
          </div>
          <div class="stats__value-item ">
            <span class="stats__value-item--label">
              Discordância de alocação
            </span>
            <span id = allocvb class="shiny-text-output stats__value-item--porcent"></span>
          </div>
          <div class="stats__value-item">
            <span class="stats__value-item--label">
              Discordância de Área
            </span>
            <span id = areavb class="shiny-text-output stats__value-item--porcent"></span>
          </div>
        </div>

        <div class="stats__tabs">
          <label class="label-tab label-tab-1" href=".tab-1">Acurácia Geral</label>
          <label class="label-tab label-tab-2" href=".tab-2">Erros de inclusão/omissão</label>
          <label class="label-tab label-tab-3" href=".tab-3">Histórico da classe</label>

          <div class="stats__tab-item tab-1">
            <div>
              <center><h5>Acurácia Geral</h5></center>
              {{acctotal}}
            </div>
          </div>
            
          <div class="stats__tab-item tab-2 hide">
            <div class="stats__filter">
              <label class="control-label" for="select_ano">Ano</label>
              <div>
                <select id="select_ano">
                  <option value="2018">2018</option>
                  <option value="2017">2017</option>
                  <option value="2016">2016</option>
                  <option value="2015">2015</option>
                  <option value="2014">2014</option>
                  <option value="2013">2013</option>
                  <option value="2012">2012</option>
                  <option value="2011">2011</option>
                  <option value="2010">2010</option>
                  <option value="2009">2009</option>
                  <option value="2008">2008</option>
                  <option value="2007">2007</option>
                  <option value="2006">2006</option>
                  <option value="2005">2005</option>
                  <option value="2004">2004</option>
                  <option value="2003">2003</option>
                  <option value="2002">2002</option>
                  <option value="2001">2001</option>
                  <option value="2000">2000</option>
                  <option value="1999">1999</option>
                  <option value="1998">1998</option>
                  <option value="1997">1997</option>
                  <option value="1996">1996</option>
                  <option value="1995">1995</option>
                  <option value="1994">1994</option>
                  <option value="1993">1993</option>
                  <option value="1992">1992</option>
                  <option value="1991">1991</option>
                  <option value="1990">1990</option>
                  <option value="1989">1989</option>
                  <option value="1988">1988</option>
                  <option value="1987">1987</option>
                  <option value="1986">1986</option>
                  <option value="1985">1985</option>
                  <option value="Todos">Todos</option></select>
              </div>
            </div>
            <div>
              <center>
                <h5>Erros de Inclusão</h5>  
              </center>
              <br />
               {{user}}
              <br />
              <br />
            </div>
            <div>
              <center>
                <h5>Erros de Omissão</h5>                  
              </center>
              <br />
              {{producer}}
              <br />
            </div>
          </div>
          
          <div class="stats__tab-item tab-3 hide">
            <div>
              <div>
                <div class="shiny-html-output" id="select_classe_ctlr"></div>
                <center><h5>Erros de Inclusão</h5></center>
                <br />
                  {{cl_user}}
                <br />
                <br />
                <center>
                  <h5>Erros de Omissão</h5>  
                </center>
                <br />
                  {{cl_producer}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </article>
    <script type="text/javascript">
      (function () {
        if (! localStorage.justOnce) {
            localStorage.setItem("justOnce", "true");
            window.location.reload();
            localStorage.setItem("justOnce", "false")
        }
      })()
      function iterateSelection(selector, callback){
        [].forEach.call(document.querySelectorAll(selector), callback);
      }
      
      function addHide(selector){
        iterateSelection(selector, function(item){
          item.classList.add('hide');
        });
      }
      
      iterateSelection('.label-tab', function(item){
        item.addEventListener('click',function(e){
          addHide('.stats__tab-item')
          var el = document.querySelector(e.target.attributes['href'].value)
          if(el){
            el.classList.remove('hide');
          }
        })
      })
    </script>
  </body>
  
</html>
